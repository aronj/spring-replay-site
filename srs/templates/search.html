{% extends 'lists.html' %}

{% block searchheader %}    <link rel="stylesheet" type="text/css" href="{{ JQUERYUI_CSS_URL }}" />
    <script type="text/javascript" src="{{ JQUERY_JS_URL }}"></script>
    <script type="text/javascript" src="{{ JQUERYUI_JS_URL }}"></script>
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/ajax_select.css" />
    <script type="text/javascript" src="{{ STATIC_URL }}js/ajax_select.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/srs_search.js"></script>
{% endblock %}

{% block pagetitle %}Search{% endblock %}

{% block schema4title %}
        <span itemscope href="http://schema.org/WebPage">
          <span itemscope itemprop="about" href="http://schema.org/SearchResultsPage">
            <h1 itemprop="name">{{ pagetitle }}</h1>
            <meta itemprop="url" content="{{ selfurl }}"/>
          </span>
          <meta itemprop="genre" content="game"/>
        </span>
{% endblock %}

{% block search %}
{% if not showadvsearch %}
<p class="clickme_advsearch" style="color: #4A8EBC; text-align: center; font-weight:bold;">&raquo;&raquo;&raquo;&nbsp;&nbsp;Click me to show advanced search options.&nbsp;&nbsp;&laquo;&laquo;&laquo;</p>
<div class="blind_advsearch" style="display:none;">
{% endif %}
<h2>Search</h2>
<p style="font-weight: bold;">All search parameters are used together to narrow the results ("AND").</p>
<p>Multiple entry fields: the entries of <i>player</i> and <i>tag</i> are used such as they must all be together in a replay ("<b>AND</b>"). The entries of <i>map</i>, <i>game</i>, <i>uploader</i> and <i>autohost</i> are used such that one of them must be in the replay ("<b>OR</b>").</p>
<p style="color: maroon;">Tip: you can open a players page directly, by clicking it's name after selecting it from the search list.</p>
	<form action="." method="post">{% csrf_token %}
	    {{ form.non_field_errors }}
	    {% for field in form %}
	    {% if field.errors %}
        <div class="fieldWrapper">
            <p style="color: red">Error in "{{ field.label }}": {% for error in field.errors %} {{ error }} {% endfor %}</p>
        </div>
        {% endif %}
        {% endfor %}

        <noscript>
            <p style="font-weight: bold; color: red">To use this page, you must activate JavaScript!(sorry)!</p>
            <p style="color: red">(Sorry, to lazy to write two versions...)</p>
        </noscript>

		<table border="0" cellpadding="2" cellspacing="0" rules="none">
	        <colgroup>
	            <col width="60"/><col width="180"/><col width="60"/><col width="180"/>
	        </colgroup>
	        <tr>
	           <td>{{ form.text.label_tag }}:</td><td>{{ form.text }}</td>
               <td>{{ form.comment.label_tag }}:</td><td>{{ form.comment }}</td>
            </tr>
            <tr>
               <td>{{ form.player.label_tag }}:</td><td>{{ form.player }}</td>
               <td>{{ form.spectator.label_tag }}:</td><td>{{ form.spectator }}</td>
            </tr>
            <tr>
               <td>{{ form.maps.label_tag }}:</td><td>{{ form.maps }}</td>
               <td>{{ form.game.label_tag }}:</td><td>{{ form.game }}</td>
            </tr>
            <tr>
               <td>{{ form.matchdate.label_tag }}:</td><td>{{ form.matchdate }}</td>
               <td>{{ form.uploaddate.label_tag }}:</td><td>{{ form.uploaddate }}</td>
            </tr>
            <tr>
               <td>{{ form.tag.label_tag }}:</td><td>{{ form.tag }}</td>
               <td>{{ form.uploader.label_tag }}:</td><td>{{ form.uploader }}</td>
            </tr>
            <tr>
               <td>{{ form.autohost.label_tag }}:</td><td>{{ form.autohost }}</td>
               <td></td>
            </tr>
	    </table>
	    <p><input type="submit" value="Submit" /></p>
	</form>
	<p>&nbsp;</p>
	<p style="color: maroon;">Sorting of search results does not work at the moment.</p>
	<p style="color: maroon;">Pagination is also broken - sorry! Try to narrow your search of you have more than 50 results.</p>
	{% if not showadvsearch %}
	</div>
	{% endif %}
{% endblock %}
